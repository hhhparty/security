var MC_COOKIE_IEEE_USER_INFO="ieeeUserInfoCookie";var miniCartJson=null;var inProcess=true;var donationsOpened=true;var itemsOpened=true;function mc_initMiniCart(a,b){ibpMiniCart.mc_renderMiniCartContainter();if(ibpMiniCart.mc_hasMiniCart()){ibpMiniCart.mc_processMiniCart(false,a,b)}}function mc_refreshMiniCart(a,b){ibpMiniCart.mc_processMiniCart(false,a,b)}function mc_forceRefreshMiniCart(a,b){ibpMiniCart.mc_processMiniCart(true,a,b)}function mc_removeItem(a,b,c){if(a!=null&&a!=""){ibpMiniCart.mc_processRemoveItem(a,null,null,null,b,c)}}function mc_addItem(d,h,g,e,b,a,c){if(d!=null&&h!=null&&h>0&&e!=null&&g!=null){var f='[{"partNum":"'+d+'","quantity":"'+h+'","membershipType":"'+e+'","quoteGrade":"'+b+'"","country":"'+g+'"}]';ibpMiniCart.mc_addItemQueue(f,a,c)}else{}}function mc_addItem(f,h,a,b,i,e,c,g){if(f!=null&&h!=null&&h>0&&b!=null&&a!=null){var d='[{"partNum":"'+f+'","quantity":"'+h+'","membershipType":"'+b+'","quoteGrade":"'+i+'"","registrationType":"'+e+'"","country":"'+a+'"}]';ibpMiniCart.mc_addItemQueue(d,c,g)}else{}}function mc_addItems(a,b,c){if(a!=null){ibpMiniCart.mc_addItemQueue(a,b,c)}else{}}function mc_disable_checkout_btn(a){if(a){jQuery("#proceed-checkout-button").switchClass("button-large","button-large-disable");jQuery("#proceed-checkout-button").prop("disabled",true)}else{jQuery("#proceed-checkout-button").switchClass("button-large-disable","button-large");jQuery("#proceed-checkout-button").prop("disabled",false)}}function mc_render_membership_incomplete_msg(a){jQuery("#membership-incomplete-custom-msg").html(a)}function isValidValue(b){var a=false;if(b!=null&&b!=""&&b!="undefined"){a=true}return a}function mc_getIeeeUserInfo(){var b=null;var a=jQuery.cookie(MC_COOKIE_IEEE_USER_INFO);if(typeof a!="undefined"&&a!=null&&a!=""){b=jQuery.evalJSON(a)}return b}function isPartNumberExists(b){var a=false;if(miniCartJson!=null&&miniCartJson.itemGroups!=null&&miniCartJson.itemGroups.length!=0){jQuery.each(miniCartJson.itemGroups,function(){var c=this;jQuery.each(c.items,function(){var e=this;var d=e.partNumber;if(!a){if(b==d){a=true}}})})}return a}function getMembershipGrade(){var a=null;if(isPartNumberExists("MEMIEEE500")){a=miniCartJson.grade}return a}var ibpMashupUtils={defIbpLoadingTxt:"Loading...",isOldIEBrowser:function(){var a=false;if(navigator.appVersion.indexOf("MSIE")!=-1){var c=navigator.appVersion.split("MSIE");var b=parseFloat(c[1]);if(b<=6){a=true}}return a},getProgTxtWidth:function(d,c){var a=40;var b=d-100;var f=a;if(typeof c!="undefined"){if(jQuery("#ibpTLoadTxt").length==0){var e="<div id='ibpTLoadTxt' style='float:left;visibility:hidden;display:block;font-size:12px;font-weight:bold;'>&nbsp;</div>";jQuery("body").append(e)}$ibpTLoadTxt=jQuery("#ibpTLoadTxt");$ibpTLoadTxt.html(c);lTxtCalcWidth=$ibpTLoadTxt.width()+40;if(lTxtCalcWidth>b){f=b}else{if(lTxtCalcWidth<a){f=a}else{f=lTxtCalcWidth}}}return f},showIbpProgressImg:function(o,g,j){try{var r=null;var d=null;var b="&nbsp;";if(o=="body"){o="page-container"}if(typeof o=="string"){d=jQuery("#"+o)}else{d=o}if((d==null)||(d.length==0)||(d.prev("div.ibpAjaxLoading").length>0)){return}if(g!=null&&g.length>1){g=g.toLowerCase();g=g.charAt(0).toUpperCase()+g.slice(1)}var k=d.width()+ibpMashupUtils.getIbpPadding(d.css("padding-left"))+ibpMashupUtils.getIbpPadding(d.css("padding-right"));var a=ibpMashupUtils.getProgTxtWidth(k,g);var m=(k-a)/2;var n=a;var a=a-38;if(a<=40){n=30;a=1}if((typeof g!="undefined")&&(jQuery.trim(g).length>0)){b=g}var h="";var r="";if(o=="page-container"){m+=jQuery("#page-container").offset().left;h=jQuery("<div class='ibpAjaxLoadingMask' style='top:0;width:100%;height:100%;position:fixed;'>&nbsp;</div>");r=jQuery("<div class='ibpAjaxLoading' style='width:100%;position:fixed;height:100%;left:0;top:0'><div style='top:48%;left:"+(m)+"px;width:"+n+"px; position: fixed;font-weight:bold;' class='ibpAjaxLoadingSec'><div class='ibpAjaxLoadingText' style='width:"+a+"px;'>"+b+"</div></div></div>");d.before(h);d.before(r)}else{var i=d.height()+ibpMashupUtils.getIbpPadding(d.css("padding-top"))+ibpMashupUtils.getIbpPadding(d.css("padding-bottom"));if(i<=30){i=30}var c=(i/2)-10;var f="height:"+i+"px;width:"+k+"px;position:absolute;padding:0;margin-left:"+ibpMashupUtils.getIbpPadding(d.css("left"))+"px;";var q="position:absolute;top:"+c+"px;left:"+m+"px;width:"+(n)+"px;";var p="width:"+(a)+"px;";r=jQuery("<div class='ibpAjaxLoading' style='"+f+"'><div class='ibpAjaxLoadingSec' style='"+q+"'><div class='ibpAjaxLoadingText' style='"+p+"' >"+b+"</div></div></div>");h="<div class='ibpAjaxLoadingMask' style='"+f+"'>&nbsp;</div>";d.before(h);d.before(r)}showIbpProgText=function(s,e){var t=function(){var w=r.find("div.ibpAjaxLoadingText");if(typeof e!="undefined"){var v=ibpMashupUtils.getProgTxtWidth(k,e);var u=(k-v)/2;r.find(".ibpAjaxLoadingSec").css({width:v+"px",left:u+"px"});r.find(".ibpAjaxLoadingText").css({width:v-10+"px"});w.html(e)}w.css("display","block")};setTimeout(t,s)};r.find("div.ibpAjaxLoadingText").css("display","block");if(typeof g=="undefined"){showIbpProgText(2000,ibpMashupUtils.defIbpLoadingTxt)}if(typeof j!="undefined"){if(jQuery.isArray(j)){jQuery.each(j,function(e,s){showIbpProgText(s.delayTextInMillis,s.delayTextMsg)})}else{showIbpProgText(j.delayTextInMillis,j.delayTextMsg)}}}catch(l){}},clearIbpProgressImg:function(d){try{if(typeof d!="undefined"&&d=="body"){var b=jQuery("body");b.find(">div.ibpAjaxLoading, >div.ibpAjaxLoadingMask").remove()}else{if(typeof d!="undefined"){var a=jQuery("#"+d);if(a==null||a.length==0){return}a.prev("div.ibpAjaxLoading").remove();a.prev("div.ibpAjaxLoadingMask").remove()}else{jQuery("div.ibpAjaxLoading, div.ibpAjaxLoadingMask").remove()}}}catch(c){}},getIbpPadding:function(b){var a=0;try{if(b=="auto"){a=0}else{a=parseInt(b.replace("px",""))}}catch(c){a=0}return a}};function mc_trackEvent(b,a){if(typeof dcsMultiTrack=="function"){dcsMultiTrack("WT.si_n",b,"WT.si_p",a);setTimeout("donothing()",250)}}function mc_buildMashupUrl(b){var a="";if(typeof IEEE_MASHUP_ENGINE_SERVER_URL!="undefined"&&IEEE_MASHUP_ENGINE_SERVER_URL!=""){a=IEEE_MASHUP_ENGINE_SERVER_URL+b}else{a=IEEE_MASHUP_ENGINE_SERVER_URL_DEF+b}return a}function donothing(){}function trackProceedToCheckout(){if(typeof mc_trackEvent=="function"){var b=mc_getAnalyticsAppName();mc_trackEvent(b+"_ADDTOCART",b+"_PROCEED_TO_CHECKOUT");mc_trackEvent("ADDTOCART","PROCEED_TO_CHECKOUT")}if(typeof ntptEventTag=="function"){var a="ev=IBP_PT_checkout&evType=IBPCART";if(typeof NTPT_PGEXTRA!="undefined"&&NTPT_PGEXTRA!=null){a=a+"&"+NTPT_PGEXTRA}ntptEventTag(a)}}var ibpMiniCart={mc_processMiniCart:function(f,b,c){ibpMiniCart.mc_renderMiniCartMsg(MC_LOADING_MSG);inProcess=true;var e="";if(typeof IEEE_MASHUP_APPLICATION_NAME!="undefined"){e=IEEE_MASHUP_APPLICATION_NAME}var d=(typeof MC_TIMEOUT!="undefined"&&MC_TIMEOUT!=null)?MC_TIMEOUT:MC_TIMEOUT_DEF;ibpMiniCart.mc_loadDelayMessage();var a=mc_buildMashupUrl(MC_MINICART_SERVLET_URL);jQuery.ajax({url:a,type:"GET",data:({action:"getMiniCart",appName:e,forceRefresh:f}),dataType:"jsonp",crossDomain:true,timeout:d,success:function(g){inProcess=false;if(g!=null){if(g.errorMsg==undefined||g.errorMsg==""){miniCartJson=g;ibpMiniCart.mc_renderMiniCart(g);ibpMiniCart.mc_bindMiniCartEvents();if(typeof mn_updateCartItemQty!="undefined"){mn_updateCartItemQty()}if(typeof b=="function"){b(g)}}else{ibpMiniCart.mc_renderMiniCartError(g)}}else{ibpMiniCart.mc_clearMiniCart()}ibpMashupUtils.clearIbpProgressImg("mc_minicart-container")},error:function(g,i,h){inProcess=false;if(g.readyState==0&&h==""){return}else{if(typeof c=="function"){c(g)}if(g.responseText!=undefined){ibpMiniCart.mc_renderMiniCartError(g.responseText,c)}}ibpMashupUtils.clearIbpProgressImg("mc_minicart-container")}})},mc_hasMiniCart:function(){var b=false;var a=mc_getIeeeUserInfo();if(a!=null){if(isValidValue(a.anonymousCartId)||isValidValue(a.userInfoId)){b=true}}return b},mc_bindMiniCartEvents:function(){jQuery(".mc-remove-item-link").click(function(){jQuery("#mc-items-added").html("");jQuery("#mc-items-added").hide();var a=jQuery(this).closest(".mc-cart-item-row");var e=jQuery(a).css("height");var i=jQuery(a).css("width");var g=jQuery(a).position();var k=g.top-15;var d="-18px";var b=g.left;var j=jQuery(this).closest(".mc-cart-item-row").find(".mc-remove-confirmation");var c=50;if(a.find("span.mc-item-qty").length>0){c=77}jQuery(j).css({position:"relative","float":"left",width:i,height:c+"px",top:d});var f=jQuery(a).width()-30+"px";var h=c+"px";jQuery(j).children().wrapAll('<div class="mc-remove-confirmation-content" style="width:'+f+';"></div>');jQuery(j).children(".mc-remove-confirmation-content").wrap('<div class="mc-content-shell" style="height:'+h+'"></div>');jQuery(j).children(".mc-content-shell").prepend('<div class="mc-left-shell"></div>').append('<div class="mc-right-shell"></div>');jQuery(j).prepend('<div class="mc-top-shell"></div>').append('<div class="mc-bottom-shell"></div>');jQuery(j).children(".mc-top-shell").html('<div class="mc-top-left-shell"></div><div class="mc-top-middle-shell" style="width:'+f+';"></div><div class="mc-top-right-shell"></div><div class="clearit">&nbsp;</div>');jQuery(j).children(".mc-bottom-shell").html('<div class="mc-bottom-left-shell"></div><div class="mc-bottom-middle-shell" style="width:'+f+';"></div><div class="mc-bottom-right-shell"></div>');jQuery(j).show();jQuery("#mc-proceed-checkout-button").prop("disabled",false).attr("src","/images/button-proceed-checkout-dis.gif")});jQuery(".mc-cancel-remove-item").click(function(){var a=jQuery(this).closest(".mc-remove-confirmation");jQuery(a).css({position:"relative",height:"0px",width:"0px"});jQuery(a).append(jQuery(a).find(".mc-remove-confirmation-content").children());jQuery(a).children(".mc-top-shell, .mc-content-shell, .mc-bottom-shell").remove();jQuery(a).hide();jQuery("#mc-proceed-checkout-button").prop("disabled",false).attr("src","/images/button-proceed-checkout.gif");return false});jQuery(".mc-remove-item-confirm-action").click(function(){var a=jQuery(this).closest(".mc-cart-item-row");var g=a.attr("callback-data");var e=g.indexOf("|");var b=g.indexOf("#");var f=g.indexOf("~");var d=g.substring(15,e);var h=g.substring(e+1,b);var c=g.substring(b+1,f);var i=g.substring(f+1);ibpMashupUtils.showIbpProgressImg("mc_minicart-container","");ibpMiniCart.mc_processRemoveItem(d,h,c,i);jQuery("#proceed-checkout-button").prop("disabled",false).attr("src","/images/button-proceed-checkout.gif");return false});jQuery("#proceed-checkout-button").hover(function(){jQuery("#proceed-checkout-button").attr("src","/images/button-proceed-checkout-hov.gif")},function(){jQuery("#proceed-checkout-button").attr("src","/images/button-proceed-checkout.gif")}).mousedown(function(){jQuery("#proceed-checkout-button").attr("src","/images/button-proceed-checkout-act.gif")});jQuery(".mc-remove-item-link").click(function(a){if(jQuery(".mc-remove-confirmation").is(":visible")){jQuery(".mc-remove-item-link").undelegate("click");a.preventDefault();return false}});jQuery("#mc-proceed-checkout-button").click(function(a){var c=mc_buildMashupUrl(MC_MINICART_CHECKOUT_URL);if(typeof refSite!="undefined"&&typeof refSiteName!="undefined"){var e=window.location.href;var b;if(e!=null&&e!=""){b=encodeURIComponent(e)}c+="?refSite="+refSite+"&refSiteName="+refSiteName+"&closeurl="+b}trackProceedToCheckout();var d=200;setTimeout(function(){window.location.href=c},d)});jQuery("#mc-signin-link").click(function(){if(jQuery("#singleSignOnLink")!=""&&jQuery("#singleSignOnLink")!=undefined){$("#singleSignOnLink").click()}else{try{javascript:Modal.show("/xpl/mwMemberSignIn.jsp")}catch(a){}}});jQuery("#toggleDonations").click(function(){if(!donationsOpened){jQuery("div[id=mc-donation-items]").show();jQuery("#toggleDonations").removeClass("mc-toggle-control-closed");jQuery("#toggleDonations").addClass("mc-toggle-control-opened");jQuery(".mc-donation-total").hide();jQuery("#mc-donation-qty").hide();donationsOpened=true}else{jQuery("div[id=mc-donation-items]").hide();jQuery("#toggleDonations").removeClass("mc-toggle-control-opened");jQuery("#toggleDonations").toggleClass("mc-toggle-control-closed");jQuery(".mc-donation-total").show();jQuery("#mc-donation-qty").show();donationsOpened=false}return false});jQuery("#toggleItems").click(function(){if(!itemsOpened){jQuery("#toggleItems").removeClass("mc-toggle-control-closed");jQuery("#toggleItems").addClass("mc-toggle-control-opened");jQuery(".mc-items-total").hide();jQuery("#mc-items-qty").hide();jQuery(".mc-items-row").show();itemsOpened=true}else{jQuery("#toggleItems").removeClass("mc-toggle-control-opened");jQuery("#toggleItems").addClass("mc-toggle-control-closed");jQuery(".mc-items-total").show();jQuery("#mc-items-qty").show();jQuery(".mc-items-row").hide();itemsOpened=false}return false})},mc_renderMiniCart:function(c){if(c.itemGroups==null||c.itemGroups.length==0){jQuery("#mc_minicart-container").html("")}if((c.itemGroups!=null&&c.itemGroups.length!=0)||(c.donations!=null&&c.donations.length!=0)){jQuery("#mc_minicart-container").html('<div class="callout-panel mc-product-cart"><h3 class="mc-header first-rail">My Cart</h3><div class="mc-content"><div id="mc-items-added" class="mc-confirmation-msg"><p>Items have been added to the cart</p></div>');if(c.itemGroups!=null&&c.itemGroups.length!=0){var e='<div class="mc-section"><div class="mc-sub-section"><div class="mc-items-heading"><a title="Open the Items Panel" class="items-toggle mc-toggle-control mc-toggle-control-opened" href="#" id="toggleItems">&nbsp;</a>Items<span id="mc-items-qty" style="display:none">('+c.itemsQuantity+')</span></div><div class="mc-items-total" style="display:none">$'+c.itemsTotalAmount+'</div><div class="mc-clearit">&nbsp;</div><div style="border-top: 1px solid #c2c2c2; height:0px; width: 102%;">&nbsp;</div><div class="mc-clearit">&nbsp;</div></div>';jQuery(".mc-content").append(e);jQuery.each(c.itemGroups,function(){var h=this;jQuery.each(h.items,function(){var v=this;var j="";var r=v.assetType;var k=v.productType;if(r!=null&&r!="undefined"&&r=="Monthly"&&k!="Periodicals"){j="(monthly subscription)<br>"}var l="";if(v.isMembershipProduct){if(v.isStudentMember){l="(Student)<br>"}else{if(v.isEmembership){l="(electronic)<br>"}}}var w=v.mediaType;var u="";if(w!=null&&w!="undefined"&&w!=""&&w!="All"&&w!="None"){u="Format: "+w}var p=v.totalLineItemPrice;if(p!=null&&p!="undefined"){p="</span>$"+v.totalLineItemPrice}else{p="Not Offered"}var t="mc-cart-item-row";if(h.salesChannelName=="Xplore"){t=t+" xplore-item"}else{t=t+" membership-item"}var s='<a class="mc-bullet-link mc-remove-item-link" title="Remove this item from your shopping cart" href="#">Remove</a>';if(v.removeAllowed!=null&&v.removeAllowed==false){s=""}var n=v.lineItemURL;var q="";if(n!=undefined&&n!=null&&n!=""&&n!="undefined"&&v.productType!=MC_VCEP_PRODUCT_TYPE){q='<a class="title" href="'+v.lineItemURL+'">'+v.title+"</a><br>"}else{q=v.title+"<br>"}var o="Are you sure you want to remove this item?";var i="";if((v.quantity!="null")&&(v.quantity!="")&&(v.quantity>1)){i="<br><span class='mc-item-qty'> Quantity: "+v.quantity+"</span><br>";o="Remove deletes entire item (quantity can be adjusted at checkout). Do you want to proceed?"}var m=v.title;m=m.replace(/</g,"&lt;").replace(/>/g,"&gt;");jQuery(".mc-content .mc-section").filter(":last").append('<div id="mc_item-row-id-'+v.lineItemId+'" callback-data="mc_item-row-id-'+v.lineItemId+"|"+v.partNumber+"#"+v.productType+"~"+m+'" class="'+t+' mc-items-row"><p>'+q+j+l+u+i+'</p><p class="mc-summary">'+s+p+'</p><div style="margin:0 11px;border-top: 1px dotted #c2c2c2; height:0px">&nbsp;</div><div style="display:none;" class="mc-remove-confirmation"> <strong>'+o+'</strong> <div class="align-left"><a title="Confirm that you want to remove this item from your cart" class="mc-remove-item-confirm-action button-link" href="">Yes, remove</a> <br>  <a title="Cancel this action" class="mc-cancel-remove-item button-link" href="#">Cancel</a></div></div><div class="clearit"></div></div>')})})}if(c.donations!=null&&c.donations.length!=0){var d='<div class="mc-section"><div class="mc-sub-section"><div class="mc-donations-heading"><a title="Open the Donations Panel" class="donation-toggle mc-toggle-control mc-toggle-control-closed" href="#" id="toggleDonations">&nbsp;</a>Donations<span id="mc-donation-qty">('+c.donationQty+')</span></div><div class="mc-donation-total"></span>$'+c.donationTotal+'</div><div class="mc-clearit">&nbsp;</div><div style="border-top: 1px solid #c2c2c2; height:0px; width: 102%;">&nbsp;</div><div class="mc-clearit">&nbsp;</div></div>';if(donationsOpened){d='<div class="mc-section"><div class="mc-sub-section"><div class="mc-donations-heading"><a title="Close the Donations Panel" class="donation-toggle mc-toggle-control mc-toggle-control-opened" href="#" id="toggleDonations">&nbsp;</a>Donations<span id="mc-donation-qty" style="display:none">('+c.donationQty+')</span></div><div class="mc-donation-total" style="display:none"></span>$'+c.donationTotal+'</div><div class="mc-clearit">&nbsp;</div><div style="border-top: 1px solid #c2c2c2; height:0px; width: 102%;">&nbsp;</div><div class="mc-clearit">&nbsp;</div></div>'}jQuery(".mc-content").append(d);jQuery.each(c.donations,function(){var j=this;var m=j.amount;if(m!=null&&m!="undefined"){m="</span>$"+m}else{price="N/A"}var i=j.donationUrl;var h="";var k=j.description;k=k.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(i!=undefined&&i!=null&&i!=""&&i!="undefined"){h='<a class="title" href="'+i+'">'+k+"</a><br>"}else{h=j.description+"<br>"}var l='<div id="mc-donation-items" style="display:none">';if(donationsOpened){l='<div id="mc-donation-items">'}jQuery(".mc-content .mc-section").filter(":last").append(l+'<div id="mc_item-row-id-'+j.lineItemId+'" callback-data="mc_item-row-id-'+j.lineItemId+'|" class="mc-cart-item-row"><p>'+h+'</p><p class="mc-summary"><p class="mc-summary"><a class="mc-bullet-link mc-remove-item-link" title="Remove this item from your shopping cart" href="#">Remove</a>'+m+'</p><div style="display:none;" class="mc-remove-confirmation"> <strong>Are you sure you want to remove this item?</strong> <div class="align-left"><a title="Confirm that you want to remove this item from your cart" class="mc-remove-item-confirm-action button-link" href="">Yes, remove this item</a> <br>  <a title="Cancel this action" class="mc-cancel-remove-item button-link" href="#">Cancel</a></div></div></div><div class="clearit"></div></div>')})}var g="button-large button-width-mid float-right";if(typeof mc_disable_checkout_btn_flag!="undefined"&&mc_disable_checkout_btn_flag!=null){if(mc_disable_checkout_btn_flag){g="button-large-disable button-width-mid float-right"}}var b="";if(c.hasMembershipProduct&&!c.membershipComplete){g="button-large-disable button-width-mid float-right";b="disabled"}jQuery(".mc-content").append('<div class="mc-section-last">\n	<p class="mc-checkout"><span>Net Amount USD</span> <span class="disclaimer"></span>'+c.subtotal+'</p>\n<div style="float:left;padding-left:10px;height:40px">*&nbsp;</div>	<p class="mc-disclaimer mc-checkout">Any applicable taxes and shipping charges are calculated during Checkout</p>\n	<p class="text-right">\n	<input type="button" class="'+g+'" id="mc-proceed-checkout-button" value="Proceed to checkout"'+b+'/>\n	</p>\n	<div class="clearit"></div></div>\n');jQuery(".mc-content").append('<div id="mc_minicart-messages" style="display:none">\n</div>\n');var a=mc_buildMashupUrl(MC_COMPLETE_MEMBERSHIP_URL);if(c.hasMembershipProduct&&!c.membershipComplete){jQuery(".mc-content").append('<div class="confirmation-msg" id="mc-mem-complete-msg"><div class="corner-img"></div><p class="confirmation-description">For membership and subscriptions, you will need to <a href="'+a+'">complete an application </a>first before proceeding with checkout.</p><div class="clearit" style="padding-top:5px;"></div><div><b>Questions?</b><div class="clearit"></div><a href="https://supportcenter.ieee.org">Contact IEEE</a></div></div>')}if(!c.signedIn){var f='<p class="confirmation-description margin-t10"><b>Already an IEEE member? <a href="#" id="mc-signin-link">Sign in for discounted pricing.</a></b></p>';jQuery(".mc-content").append('<p class="confirmation-description margin-t10"><b>Already an IEEE member? <a href="#" id="mc-signin-link">Sign in for discounted pricing.</a></b></p>')}}},mc_renderMiniCartContainter:function(){jQuery("#mc_ieee-mini-cart-include").after('<div id="mc_minicart-container" class="mc-minicart-content"></div>')},mc_clearMiniCart:function(a){jQuery("#mc_minicart-container").html("")},mc_renderMiniCartError:function(e,c){var a=jQuery("#mc_minicart-container").html();if(a==""){jQuery("#mc_minicart-container").html('<div class="callout-panel mc-product-cart"><h3 class="mc-header first-rail">My Cart</h3><div class="mc-content"><div id="mc-items-added" class="mc-confirmation-msg"></div>')}var b="";if(typeof e!="undefined"){b=e.errorMsg}if(b==IBP_SOA_TIMEOUT){b=MC_TIMEOUT_ERROR_MSG}if(b==""||b=="undefined"||typeof b=="undefined"){b=mc_system_error}jQuery("#mc-items-added").html("<p>"+b+"</p>");jQuery("#mc-items-added").show();if(typeof c=="function"){c(e.errorMsg)}var d=jQuery(".mc-remove-confirmation");jQuery(d).css({position:"relative",height:"0px",width:"0px"});jQuery(d).append(jQuery(d).find(".mc-remove-confirmation-content").children());jQuery(d).children(".mc-top-shell, .mc-content-shell, .mc-bottom-shell").remove();jQuery(d).hide()},mc_renderMiniCartMsg:function(b){var a=jQuery("#mc_minicart-container").html();if(a==""){jQuery("#mc_minicart-container").html('<div class="callout-panel mc-product-cart"><div class="mc-header first-rail">My Cart</div><div class="mc-content"><div id="mc-items-added" class="mc-confirmation-msg"><p>'+b+"</p></div>")}else{jQuery("#mc-items-added").html("<p>"+b+"</p>")}jQuery("#mc-items-added").show();ibpMashupUtils.showIbpProgressImg("mc_minicart-container","")},mc_processRemoveItem:function(d,g,b,i,a,h){ibpMashupUtils.showIbpProgressImg("mc_minicart-container","");var f="";if(typeof IEEE_MASHUP_APPLICATION_NAME!="undefined"){f=IEEE_MASHUP_APPLICATION_NAME}var e=(typeof MC_TIMEOUT!="undefined"&&MC_TIMEOUT!=null)?MC_TIMEOUT:MC_TIMEOUT_DEF;var c=mc_buildMashupUrl(MC_MINICART_SERVLET_URL);jQuery.ajax({url:c,type:"GET",data:({action:"removeItem",appName:f,lineItemId:d}),dataType:"jsonp",crossDomain:true,timeout:e,success:function(j){if(j!=null){if(j.errorMsg==undefined){miniCartJson=j;ibpMiniCart.mc_renderMiniCart(j);ibpMiniCart.mc_bindMiniCartEvents();if(typeof mn_updateCartItemQty=="function"){mn_updateCartItemQty()}}else{ibpMiniCart.mc_renderMiniCartError(j,h)}}else{ibpMiniCart.mc_clearMiniCart()}ibpMashupUtils.clearIbpProgressImg("mc_minicart-container");var k='{"partNumber":"'+g+'","lineItemId":"'+d+'","productType":"'+b+'","productDescription":"'+i+'"}';if(typeof a=="function"){a(j,k)}if(typeof mc_removeItem_success=="function"){mc_removeItem_success(j,k)}if(typeof trackRemoveItem=="function"){trackRemoveItem(g,i)}},error:function(k,m,l){if(k.readyState==0&&l==""){return}else{var j=k.responseText;if(typeof h=="function"){h(j.errorMsg)}if(k.responseText!=undefined){ibpMiniCart.mc_renderMiniCartError(j,h)}}ibpMashupUtils.clearIbpProgressImg("mc_minicart-container")}})},mc_processAddItem:function(a,c,d){var g=a;inProcess=true;var f="";if(typeof IEEE_MASHUP_APPLICATION_NAME!="undefined"){f=IEEE_MASHUP_APPLICATION_NAME}var e=(typeof MC_TIMEOUT!="undefined"&&MC_TIMEOUT!=null)?MC_TIMEOUT:MC_TIMEOUT_DEF;ibpMiniCart.mc_addItemDelayMessage();var b=mc_buildMashupUrl(MC_MINICART_SERVLET_URL);jQuery.ajax({url:b,type:"GET",data:({action:"addItem",appName:f,items:g}),dataType:"jsonp",crossDomain:true,timeout:e,success:function(h){inProcess=false;if(h!=null){if(h.errorMsg==undefined){miniCartJson=h;ibpMiniCart.mc_renderMiniCart(h);if(jQuery("#mc-items-added").is(":hidden")){jQuery("#mc-items-added").toggle("blind",function(){})}ibpMiniCart.mc_bindMiniCartEvents();if(typeof mn_updateCartItemQty=="function"){mn_updateCartItemQty()}if(typeof c=="function"){c(miniCartJson)}if(typeof trackAddItem=="function"){if((h.itemGroups!=null&&h.itemGroups.length!=0)){jQuery.each(h.itemGroups,function(){var i=this;jQuery.each(i.items,function(){var l=this;var j=l.title;var k=l.partNumber;trackAddItem(k,j)})})}}}else{ibpMiniCart.mc_renderMiniCartError(h,d)}}else{ibpMiniCart.mc_clearMiniCart()}},error:function(i,l,j){inProcess=false;ibpMashupUtils.clearIbpProgressImg("mc_minicart-container");if(i.readyState==0&&j==""){return}else{var h=i.responseText;if(typeof d=="function"){d(h.errorMsg)}if(i.responseText!=undefined){ibpMiniCart.mc_renderMiniCartError(h,d)}}if(typeof mc_trackEvent=="function"){var k=mc_getAnalyticsAppName();mc_trackEvent(k+"_ADDTOCART",k+"_ADDTOCART_FAILED");mc_trackEvent("ADDTOCART","ADDTOCART_FAILED")}}})},mc_addItemQueue:function(f,b,c){mc_createAnalyticsCookie();if(typeof mc_trackEvent=="function"){var g=mc_getAnalyticsAppName();mc_trackEvent(g+"_ADDTOCART",g+"_ADDTOCART");mc_trackEvent("ADDTOCART","ADDTOCART")}var e=jQuery.jqmq({delay:-1,callback:function(i){var j=this;ibpMiniCart.mc_renderMiniCartMsg(MC_ADDING_MSG);ibpMiniCart.mc_processAddItem(i,function(k){j.next(false)},function(k){ibpMashupUtils.clearIbpProgressImg("mc_minicart-container");if(typeof c=="function"){c(k)}})},complete:function(){ibpMashupUtils.clearIbpProgressImg("mc_minicart-container");setTimeout(function(){jQuery("#mc-items-added").toggle("fast")},5000);if(typeof b=="function"){b(miniCartJson)}if(typeof mc_trackEvent=="function"){var i=mc_getAnalyticsAppName();mc_trackEvent(i+"_ADDTOCART",i+"_ADDTOCART_SUCCESS");mc_trackEvent("ADDTOCART","ADDTOCART_SUCCESS")}}});var h;if(typeof f=="string"){h=jQuery.parseJSON(f)}var a=5;if(typeof MC_MINICART_BATCH_SIZE!="undefined"){a=MC_MINICART_BATCH_SIZE}if(h.length>a){var d=[];jQuery.each(h,function(i,j){d.push(j);if((i+1)%a==0){e.add(jQuery.toJSON(d));d=[]}});if(d.length>0){e.add(jQuery.toJSON(d))}}else{e.add(f)}},refreshWindow:function(){location.reload()},openContactWindow:function(){if(typeof MC_ERROR_CONTACT_URL!="undefined"){window.open(MC_ERROR_CONTACT_URL)}},mc_loadDelayMessage:function(){if("true"==MC_OPERATION_DELAY_MSG_FLAG){var b=(typeof MC_OPERATION_DELAY_TIMEOUT!="undefined"&&MC_OPERATION_DELAY_TIMEOUT!=null)?MC_OPERATION_DELAY_TIMEOUT:MC_OPERATION_DELAY_TIMEOUT_DEF;var a=(typeof MC_LOADING_DELAY_MSG!="undefined"&&MC_LOADING_DELAY_MSG!=null)?MC_LOADING_DELAY_MSG:MC_LOADING_DELAY_MSG_DEF;setTimeout(function(){if(inProcess){ibpMiniCart.mc_renderMiniCartMsg(a)}},b)}},mc_addItemDelayMessage:function(){if("true"==MC_OPERATION_DELAY_MSG_FLAG){var b=(typeof MC_OPERATION_DELAY_TIMEOUT!="undefined"&&MC_OPERATION_DELAY_TIMEOUT!=null)?MC_OPERATION_DELAY_TIMEOUT:MC_OPERATION_DELAY_TIMEOUT_DEF;var a=(typeof MC_ADDING_DELAY_MSG!="undefined"&&MC_ADDING_DELAY_MSG!=null)?MC_ADDING_DELAY_MSG:MC_ADDING_DELAY_MSG_DEF;setTimeout(function(){if(inProcess){ibpMiniCart.mc_renderMiniCartMsg(a)}},b)}}};