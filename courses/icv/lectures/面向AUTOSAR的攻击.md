# 面向 AUTOSAR 的攻击

从简单的控制逻辑到如今的自动驾驶系统，汽车电子系统发生了巨大的变革。随着智能网联汽车（ICV）概念的提出，以及L2+级自动驾驶车辆的落地投产，ICV已经成为集成驾驶平台和计算平台的有机整体。作为ICV中灵魂所在，各类软件不断被造车新势力、T1/T2、出行服务商、互联网公司所设计和实现，传统OEM也通过组建智能网联研究院等方式开始研究和开发自己的关键软件。

为了开发符合现代汽车需求的软件，OEM厂商普遍参考汽车开放系统架构（AUTOSAR），作为软件整体开发框架。AUTOSAR 由 AUTOSAR consortium 开发，旨在为汽车行业的制造商和供应商提供通用的软件体系结构规范。从上世纪90年代以来，AUTOSAR 标准发展缓慢，但AUTOSAR consortium 包括了所有主要的供应商，所以


面向AUTOSAR的威胁模型包括本地和远程两种攻击者。

车辆操作系统主要处理：
- 实时处理传感器传回的数据
- 主要通过总线协议向其他ecu发出消息

AUTOSAR提供了一个3 层架构来简化软件开发：
- 微控制器驱动、内核、通信协议栈共同构成了BSW（基本软件层）
- 用户应用
- RTE提供对BSW的访问

AUTOSAR 有两种类型：
- CP：静态链接、不灵活，常用于车辆底层的核心ECUs（执行部件）
- AP：利用C++14 特性，动态链接、更灵活，常用于高性能ECU



AUTOSAR 标准旨在生产面向ECUs 的safe and secure 软件。它们由广泛接受的编码标准，类似 MISRA C 和 CERT C。完全遵守这两个编码规范的实现，应该在功能上和网络上是安全的。

## 软件漏洞

### MCAL 漏洞

The Microcontroller Abstraction Layer（MACL） 经常与MCU绑定在一起，这意味着MCAL是由MCU制造商开发的。因此如果ECU制造商希望集成某个MCU，那么MCU的MCAL就需要符合AUTOSAR标准。所有主要的MCU制造商都提供了与AUTOSAR兼容的MCAL包。如果MCAL与AUTOSAR不紧密相符，他可能会产生在MCU集成到ECU中时形成某些漏洞。