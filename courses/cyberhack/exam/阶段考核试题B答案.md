# 阶段考核试题B答案

考试日期：2019-11-28

考试时间：60分钟

考试要求：
- 开卷考试、每位同学独立完成
- 自备A4白纸或信纸作答
- 请在每页答案的上方写清姓名、学号、班级
  
## 笔试题

1.请简单叙述网络攻击的基本原理和流程。（10分）

答：网络攻击的基本原理是利用对方系统漏洞，设计漏洞利用方法和程序，达到获取信息、修改、破坏系统或网络的目的。（4分）

网络攻击的一般流程包括：信息收集（1分）；网络扫描（1分）；开辟后门（1分）；权限获取（1分）；窃取破坏（1分）；隐身巩固（1分）。


2.在网络攻防中信息收集是十分重要的一步，需要收集的信息有哪些？（10分）

答：
- 网络类	域名、网络IP地址、子网 （2分）
- 主机类	运行的TCP/UDP服务，或使用的特殊协议（2分）
- 防护类	访问控制方式、有无IDS/防火墙（2分）
- 用户类	用户姓名、生日、路由表、电话（2分）
- 其他      尽量多地收集攻击目标信息（2分）

3.在Google Hack技术中，我们可以使用“intext：”、“intitle：”、“cache：”、“filetype：”、“inurl:”这些操作符分别完成何种类型的信息搜索？（10分，每个2分）

答：
- intext：把网页中的正文内容中的某个字符做为搜索条件(但是只能搜索冒号后接的一个关键字)。（2分）
- intitle：搜索网页标题中是否有所输入字符。（2分）
- cache：搜索特定页面的缓存快照。（2分）
- filetype：搜索指定类型的文件。（2分）
- inurl: 搜索输入字符是否存在于URL中.可以联合site指定来找后台、fck之类，可以与其他操作符混合使用，可单独使用。（2分）

4.举例说明如何使用Google Hack发现Tomcat http server的入口？（每个例子2分，本题总分10分）

答：
- 例1：intext:$CATALINA_HOME/webapps/ROOT/ intitle:apache tomcat 	#直接这样搜结果肯定会非常多（2分）
- 例2：intext:$CATALINA_HOME/webapps/ROOT/ inurl:8080/  #我们可以带指定端口号去搜,因为有些web并非在默认端口上,这样搜的话,可以尽量防止有漏网之鱼（2分）
- 例3：intext:$CATALINA_HOME/webapps/ROOT/ intitle:Apache Tomcat/5.5.27 site:*.hk      针对特定版本特定国家去搜,比如爆出某个版本有远程执行类的漏洞就可以利用这种方式来批量进行（2分）
- 例4：intext:$CATALINA_HOME/webapps/ROOT/ intitle:Apache Tomcat/7.0.32 site:*.gov.br（2分）
- 例5：intext:$CATALINA_HOME/webapps/ROOT/ intitle:Apache Tomcat/5.0.12 site:*.cn（2分）

5.一个网站的敏感目录和敏感文件有哪些？（10分，一项2分，最多10分）

答：下列任选5项即为正确答案。

- 后台（管理）目录，可以查看是否存在弱口令，万能密码。
- 安装包，从中获取数据库信息，甚至是网站源码。
- 上传目录，尝试是否可以上传脚本、程序等。如果可以，则极有可能形成漏洞利用。
- mysql管理接口，查看是否有弱口令、万能密码。
- 安装页面，可以尝试二次安装，进而绕过访问控制。
- phpinfo，有可能暴漏各种信息。
- 编辑器：fck、ke、等；可能存在注入漏洞、上传漏洞等。

6.HashCat的功能是什么？有几种破解模式？（10分）

答：

功能较多，答案可从下列选项中任选5项，一项1分，共5分。
- 世界上第一个和唯一的基于GPU规则引擎；
- 支持使用GPU、CPU、APU、DSP、FPGA、Coprocessor来进行密码破解；
- 免费支持多GPU（高达128个GPU）；
- 支持多哈希算法
- 支持多操作系统（Linux和Windows本地二进制文件）
- 支持多平台（OpenCL和CUDA支持）
- 支持多加密算法（目前247类）
- 资源利用率低
- 破解方法全面：基于字典攻击，暴力破解，融合方法破解；
- 支持分布式破解等等

破解模式共5项，一项1分：
- 0，即Straight（字段破解）
- 1，即Combination（组合破解）
- 3，即Brute-force（掩码暴力破解）
- 6，即Hybrid Wordlist + Mask（字典+掩码破解）
- 7，即Hybrid Mask + Wordlist（掩码+字典破解）

7.恶意代码分析的目的什么？恶意代码分析中的静态分析有何特点？有哪些工具可以使用？（10分）

答：

恶意代码分析的目的可从下列内容中任选4条（每条1分，共4分）：

- 为一起网络入侵事件的响应提供所需信息
- 确定发生了什么
- 找出所有感染的主机和文件
- 确定某个可疑二进制文件到底做了什么
- 如何在网络上检测出它？它的特征码是怎样的
- 如何衡量并消除它带来的影响

恶意代码分析中的静态分析的特点（1项1分，共2分）：
- 检查可执行文件的基本信息，但不执行程序；
- 反编译可执行文件，查看程序指令序列，分析代码意图。


静态分析工具有（任选4条，每条1分）：
- peid
- ida pro
- peexplore
- strings
- dw



8.恶意代码分析的主要方法之一是特征码识别，有哪些类型的特征码？如何提取病毒的特征码？（10分）

答：

特征码类型有：
- 主机特征码，也称感染迹象，用于在受感染主机上检测出恶意代码。（1分）
- 病毒特征码，恶意代码本身的特征。（1分）
- 网络特征码，通过检测网络流量，来检查恶意代码的迹象。（1分）

特征码的提取主要有下列一些技术：
- 全文生成（1分）
- 人工提取（1分）
- 自动提取（1分）

提取算法：
- 1.获取一个病毒程序的长度，根据长度可以将文件分为几份，份数根据样本长度而定，可以是3~5份，也可以更多。（1分）
- 2.每份中选取通常为16或32个字节长的特征串。这里一般要用到查重算法，从大量的恶意代码样本中提取相同的部分，这部分自然应该是特征串。（1分）
- 3.如果选出来的信息是通用信息，即很多文件该位置都是一样的信息，那么舍弃，调整偏移量后重新选取。如果选取出来的信息是全零的字节。那么也要调整偏移后重新选取。当然调整的偏移量多少可以人为事先规定，也可以自动随机调节。（1分）
- 4.最后将选取出来的几段特征码及它们的偏移量存入病毒库，标示出病毒的名称即可。（1分）

9.OllyDbg的功能有哪些？它需要和IDA pro结合使用么？为什么？（10分）

答：

OllyDbg的功能（下列任选6条，每条1分，共6分）：
- 32 位汇编级分析调试器
- 支持全部现有 80x86 兼容 CPU
- 可按全部常见格式显示数据：十六进制、ASCII、多字节
- 可以调试多线程应用程序。
- 它可以识别过程、循环、switch、表、GUID、常量和嵌入代码的字符串、复杂的结构、API 函数调用、函数参数个数、导入节等等。
- 可以搜索单个指令（精确或模糊）或指令序列，搜索常量，搜索二进制
或文本字符串（不必连续），搜索所有涉及地址的指令。
- 支持所有常见断点类型：软件断点（INT3 或其它几条指令）、内存断
点和硬件断点。
- 可以单步执行程序、进入子例程或让程序立即执行。
- 可计算出运行跟踪缓冲区里面列出的一些指令的执行次数。借
-内置汇编器会自动选用尽可能短的代码。二进制编辑器支持同时以
ASCII 、UNICODE 和十六进制形式显示数据。

OllyDbg需要与IDA pro等静态分析工具结合使用（2分）

结合使用的原因有：
- 提高理解能力、加速分析过程（1分）
- 确定程序结果，程序入口地址（1分）。

10.目前Web安全的10大威胁是哪些？（10分）

答：
十大Web安全风险是（一项1分，共10分）：

- A1-注入
- A2-失效的身份认证
- A3-敏感数据泄露
- A4-XML外部实体（XXE）
- A5-失效的访问控制
- A6-安全配置错误
- A7-跨站脚本（XSS）
- A8-不安全的反序列化
- A9-使用含有已知漏洞的组件
- A10-不足的日志记录和监控