# 安全开发杂记

## 腾讯安全开发岗面试经验
考察点：

### 开发技能
- 应用层：线程、进程、通信、hook、注入
- 内核层：Windows Presentation Foundation (WPF) 、 Minifilter、NDIS、内核数据结构
- 设计模式

#### 例题

1.线程间的同步方式有哪些类型?
答：自旋锁、临界区、互斥量、信号量、事件等

2.线程分为普通线程和GUI线程，区别是什么？普通线程可以变为GUI线程么？
答：GUI线程有自己的消息队列，而普通线程没有。可以，普通线程在第一次调用user32函数时，系统会为其创建一条消息队列。

3.什么是进程？
答：参考windows internel 进程是执行程序实例时使用的一组资源的容器。

4.进程间的通信方式有哪些？
答：管道、消息、共享内存、套接字、互斥量、信号量、事件等。

5.DLL注入有几种方式？
答：消息钩子、映像劫持、远程线程注入。

6.如何防止远程注入？
答：检查library中是否加载了我们允许的dll（白名单）。

7.说一下inline hook 的原理？


8.如果你在inline hook时，正好有代码执行到相关位置怎么办？是否有解决办法？

9.已知一个dll中的很多函数都已经被inline hook，如果操作才能绕过hook？

### 逆向

- 汇编
- 数据结构：系统数据结构（导入表等）、一般数据结构（vector、list）

#### 例题

1.jmp有几种，分别占几个字节？
答：短跳2字节、近跳3字节、远跳5字节。

2.iret指令何时使用？
答：中断返回时调用

### 调试

- 调试器使用

#### 例题
1.想让调试器在下一条汇编语句上停止，要怎么办？
答：令TF=1

2.软件断点的实现原理？
答：将指定指令的第一个字节处改为0xcc

### PE结构

- 字段

#### 例题
1.如何进行内存加载？
答：根据PE头将其在内存中展开...

### 算法


### 思维逻辑

